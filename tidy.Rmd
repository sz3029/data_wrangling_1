---
title: "Tidy Data"
output: github_document
---
## R Markdown


```{r echo = FALSE, message=FALSE}
library(tidyverse)
library(readxl)
library(haven)
```

## pivot longer

```{r import}
pulse_df <- read_sas("data/public_pulse_data.sas7bdat") %>%
  janitor::clean_names()

pulse_df
```

```{r tidy_1}
pulse_tidy <-
  pulse_df %>%
  pivot_longer(
    bdi_score_bl:bdi_score_12m,
    names_to = "visit",
    names_prefix = "bdi_score_",
    values_to = "bdi"
  ) %>%
  mutate(
    visit = replace(visit, visit == "bl", "00m"),
    visit = factor(visit)
  )
pulse_tidy
```


